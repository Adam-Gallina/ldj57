[gd_scene load_steps=29 format=3 uid="uid://be2otrya78kvy"]

[ext_resource type="PackedScene" uid="uid://fcfvs6lptyxx" path="res://Player/player.tscn" id="1_26yhd"]
[ext_resource type="AudioStream" uid="uid://bbpftcgaci2d7" path="res://Audio/Interact.wav" id="1_ci6au"]
[ext_resource type="MeshLibrary" uid="uid://cr68g5v2ew5av" path="res://Environment/WallTiles.tres" id="1_q0mm3"]
[ext_resource type="PackedScene" uid="uid://dfwplp12grt3b" path="res://Environment/Tiles/CurvedWindow.glb" id="2_np2xp"]
[ext_resource type="PackedScene" uid="uid://b85m8os6euwpq" path="res://Models/Workshop/Machine.glb" id="3_w7jjh"]

[sub_resource type="GDScript" id="GDScript_58wgy"]
script/source = "extends Node3D

@export var SkipIntro = false

@onready var pause_menu = $MenuCanvasLayer

@onready var move_tut = $TutorialCanvasLayer/MovementTutorial
@onready var interact_tut = $TutorialCanvasLayer/InteractionTutorial
@onready var inventory_tut = $TutorialCanvasLayer/InventoryTutorial

func _ready():
	$Ceiling.show()

	play_move_tut()
	
	if SkipIntro:
		$AnimatedCanvasLayer.hide()
	else:
		$AnimationPlayer.play('GameOpening')
	

func _process(delta: float) -> void:
	if Input.is_action_just_pressed(\"menu_pause\"):
		if pause_menu.visible: 
			close_menu()
		else:
			menu()
	
func menu():
	pause_menu.show()
	Constants.GetPlayer().set_input(false, false)
	Input.mouse_mode = Input.MOUSE_MODE_VISIBLE


func close_menu():
	pause_menu.hide()
	Constants.GetPlayer().set_input(true, true)
	Input.mouse_mode = Input.MOUSE_MODE_CAPTURED
	
func quit_btn():
	get_tree().quit()
	
	
func play_move_tut():
	move_tut.show()
	
	var complete = false
	while not complete:
		complete = Input.is_action_just_released(\"Forward\")
		await get_tree().process_frame
	
	move_tut.hide()
	play_interact_tut()
	
func play_interact_tut():
	interact_tut.show()
	await $Rooms/Viewing/HallKey.grabbed
	interact_tut.hide()
	play_inventory_tut()
	
func play_inventory_tut():
	inventory_tut.show()
	
	var complete = false
	while not complete:
		complete = Input.is_action_just_released(\"Inventory\")
		await get_tree().process_frame
		
	inventory_tut.hide()
	


func _on_sensitivity_changed(value_changed: bool) -> void:
	$Player.CamMod = $MenuCanvasLayer/TextureRect/Label2/HSlider.value / 100.


func _on_clockwork_heart_2_heart_collected() -> void:
	Input.mouse_mode = Input.MOUSE_MODE_VISIBLE
	$AnimationPlayer.play('GameWin')


func _on_check_button_toggled(toggled_on: bool) -> void:
	print(toggled_on)
	get_tree().call_group(\"ItemHints\", \"item_hint_toggled\", toggled_on)
"

[sub_resource type="Environment" id="Environment_26yhd"]
ambient_light_source = 2
ambient_light_color = Color(0.472845, 0.309446, 0.227094, 1)
ambient_light_energy = 0.3
fog_enabled = true
fog_mode = 1
fog_light_color = Color(0.126624, 0.126624, 0.126624, 1)
fog_light_energy = 0.1
fog_density = 1.0
fog_depth_end = 40.0

[sub_resource type="Gradient" id="Gradient_p3ir5"]
offsets = PackedFloat32Array(0, 0.229508, 1)
colors = PackedColorArray(0, 0, 0, 1, 0.357438, 0.30793, 0.246889, 1, 0.160567, 0.125199, 0.0665559, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_myvm1"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_63tq4"]
width = 4096
height = 4096
color_ramp = SubResource("Gradient_p3ir5")
noise = SubResource("FastNoiseLite_myvm1")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_q0mm3"]
albedo_texture = SubResource("NoiseTexture2D_63tq4")

[sub_resource type="PlaneMesh" id="PlaneMesh_np2xp"]
size = Vector2(34, 34)

[sub_resource type="Gradient" id="Gradient_w7jjh"]
offsets = PackedFloat32Array(0, 0.229508, 1)
colors = PackedColorArray(0, 0, 0, 1, 0.39817, 0.260932, 0.0917236, 1, 0.262397, 0.180577, 0.0449156, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_6q3n4"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_3vi7k"]
seamless = true
color_ramp = SubResource("Gradient_w7jjh")
noise = SubResource("FastNoiseLite_6q3n4")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4c2oa"]
albedo_texture = SubResource("NoiseTexture2D_3vi7k")

[sub_resource type="PlaneMesh" id="PlaneMesh_olcgw"]
size = Vector2(4, 4)

[sub_resource type="NavigationMesh" id="NavigationMesh_6q3n4"]

[sub_resource type="Gradient" id="Gradient_pkupc"]
colors = PackedColorArray(0, 0, 0, 0.392157, 0, 0, 0, 0.392157)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_dlo4w"]
gradient = SubResource("Gradient_pkupc")

[sub_resource type="Gradient" id="Gradient_vveqt"]
colors = PackedColorArray(0, 0, 0, 0.392157, 0, 0, 0, 0.392157)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_q6lx1"]
gradient = SubResource("Gradient_vveqt")

[sub_resource type="Gradient" id="Gradient_7mycd"]
colors = PackedColorArray(0, 0, 0, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_5qtum"]
gradient = SubResource("Gradient_7mycd")

[sub_resource type="Animation" id="Animation_k3uuf"]
resource_name = "GameOpening"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedCanvasLayer/TextureRect:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 3.93333, 4.96667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedCanvasLayer/Label2:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1.02, 1.8, 3.98667, 4.96667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AnimatedCanvasLayer/Label:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 2.39, 3, 3.98667, 4.96667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_obikd"]
resource_name = "GameWin"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedCanvasLayer/TextureRect:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedCanvasLayer/Label3:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1.03, 1.9),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AnimatedCanvasLayer/Label4:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 2.63333, 3.56667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("AnimatedCanvasLayer/Button:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 3.58, 4.8),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_vphb4"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedCanvasLayer/TextureRect:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedCanvasLayer/Label2:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AnimatedCanvasLayer/Label:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("AnimatedCanvasLayer/Label3:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("AnimatedCanvasLayer/Label4:modulate")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("AnimatedCanvasLayer/Button:modulate")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_obikd"]
_data = {
&"GameOpening": SubResource("Animation_k3uuf"),
&"GameWin": SubResource("Animation_obikd"),
&"RESET": SubResource("Animation_vphb4")
}

[node name="Map" type="Node3D"]
script = SubResource("GDScript_58wgy")
SkipIntro = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_26yhd")

[node name="Ceiling" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -1, 8.74228e-08, 0, -8.74228e-08, -1, -12, 3, 2)
visible = false
material_override = SubResource("StandardMaterial3D_q0mm3")
mesh = SubResource("PlaneMesh_np2xp")
skeleton = NodePath("../..")

[node name="Floor" type="Node3D" parent="."]
visible = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -3)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -7)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, -3)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, -7)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D5" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0, -3)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D10" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 1)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D11" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0, 1)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D21" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11, 0, 3)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D22" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0, 3)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D23" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19, 0, 3)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D26" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11, 0, -1)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D27" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0, -1)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D29" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11, 0, -5)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D30" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0, -5)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D32" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11, 0, -9)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D33" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0, -9)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D34" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19, 0, -9)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D35" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11, 0, -13)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D36" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0, -13)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D37" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19, 0, -13)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D24" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23, 0, 3)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D28" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27, 0, -1)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D31" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27, 0, -5)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D41" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23, 0, -1)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D42" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23, 0, -5)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D43" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19, 0, -1)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D46" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19, 0, -5)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D25" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27, 0, 3)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D12" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 5)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D13" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 5)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D14" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0, 5)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D15" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 9)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D16" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 9)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D17" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0, 9)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D38" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 13)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D39" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 13)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D40" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0, 13)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D53" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 17)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D54" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0, 17)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D20" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19, 0, 7)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D44" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23, 0, 7)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D45" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27, 0, 7)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D6" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0, -7)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D7" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, -11)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D55" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -11)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="MeshInstance3D8" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0, -11)
material_override = SubResource("StandardMaterial3D_4c2oa")
mesh = SubResource("PlaneMesh_olcgw")
skeleton = NodePath("../..")

[node name="Environment" type="Node3D" parent="."]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Environment"]
navigation_mesh = SubResource("NavigationMesh_6q3n4")

[node name="GridMap" type="GridMap" parent="Environment/NavigationRegion3D"]
mesh_library = ExtResource("1_q0mm3")
cell_center_y = false
data = {
"cells": PackedInt32Array(1, 65534, 655365, 1, 65533, 1441807, 1, 65532, 1441807, 65534, 65531, 1048583, 65533, 65530, 1048580, 2, 65533, 655367, 65534, 65534, 1048580, 65534, 65533, 1048580, 65534, 65532, 1048580, 0, 65535, 655364, 65535, 65535, 655364, 2, 65534, 655368, 3, 65533, 655368, 3, 65532, 655365, 4, 65532, 655375, 3, 65526, 15, 2, 65526, 15, 65535, 65526, 4, 0, 65526, 5, 1, 65526, 4, 5, 65532, 655375, 5, 65531, 1048591, 4, 65526, 15, 6, 65531, 655360, 6, 65530, 1441793, 6, 65529, 1441793, 6, 65528, 1441793, 7, 65527, 0, 7, 65531, 655360, 8, 65530, 655363, 8, 65528, 1441795, 8, 65527, 1441794, 8, 65531, 655362, 9, 65530, 655360, 10, 65530, 655360, 11, 65530, 655360, 9, 65528, 0, 10, 65528, 0, 11, 65528, 0, 12, 65528, 0, 13, 65528, 0, 12, 65530, 655360, 13, 65530, 655360, 14, 65528, 0, 14, 65530, 655360, 16, 65529, 1441792, 15, 65530, 655360, 15, 65528, 0, 16, 65528, 1441794, 16, 65530, 655362, 6, 65527, 655368, 6, 65526, 655367, 65534, 65527, 7, 65533, 65529, 1048590, 65533, 65528, 1048580, 0, 65532, 655375, 65535, 65532, 655374, 65533, 65531, 1048584, 65533, 65527, 8, 65534, 65526, 8, 7, 65526, 655368, 7, 65525, 1441807, 7, 65524, 1441807, 7, 65523, 1441807, 65534, 65535, 10, 65533, 65535, 9, 65532, 65535, 5, 65532, 65534, 1048580, 65532, 65533, 1048580, 65532, 65532, 1048583, 65531, 65532, 655364, 65531, 65529, 7, 65530, 65529, 4, 65530, 65532, 655364, 65531, 65528, 1048580, 65531, 65527, 1048583, 65529, 65532, 655374, 65531, 65535, 15, 65530, 65535, 15, 65529, 65535, 15, 65528, 65532, 655364, 65527, 65532, 655364, 65526, 65532, 1048581, 65526, 65533, 1048590, 65526, 65534, 1048580, 65526, 65535, 5, 65527, 65535, 4, 65528, 65535, 15, 65525, 65532, 655364, 65524, 65532, 655365, 65524, 65533, 1441796, 65524, 65534, 1441796, 65524, 65535, 1441797, 65525, 65535, 4, 65529, 65527, 655367, 65529, 65529, 1441799, 65529, 65528, 1441796, 65530, 65527, 655364, 0, 65524, 1048590, 0, 65525, 1048580, 65528, 65528, 655369, 65524, 65528, 655369, 65523, 65528, 655369, 65522, 65528, 655372, 65523, 65534, 655369, 65522, 65534, 655369, 65527, 65528, 655361, 65526, 65528, 655361, 65527, 65527, 1048576, 65527, 65526, 1048576, 65527, 65525, 1048576, 65527, 65524, 1048576, 65527, 65523, 1048576, 65527, 65522, 1048576, 65527, 65521, 1048576, 65526, 65521, 1441792, 7, 65522, 1441800, 65531, 65526, 12, 65531, 65525, 13, 65530, 65526, 13, 65526, 65527, 1441792, 65526, 65526, 1441792, 65526, 65525, 1441792, 65526, 65524, 1441792, 65526, 65523, 1441792, 65526, 65522, 1441792, 65525, 65528, 655369, 65528, 65519, 9, 65529, 65515, 655365, 65529, 65516, 1441796, 65529, 65517, 1441806, 65529, 65519, 9, 65530, 65515, 655375, 65530, 65519, 1441805, 65530, 65520, 1441804, 65531, 65513, 6, 65531, 65514, 1048580, 65531, 65515, 1048581, 65531, 65516, 1048580, 65531, 65518, 1048581, 65531, 65519, 1048582, 65531, 65520, 9, 65532, 65513, 4, 65532, 65519, 655364, 65532, 65520, 9, 65532, 65521, 655367, 65532, 65522, 1441796, 65533, 65513, 4, 65533, 65519, 655374, 65533, 65520, 1441805, 65533, 65521, 655374, 65534, 65513, 4, 65534, 65514, 1048580, 65534, 65515, 1048590, 65534, 65516, 1048580, 65534, 65517, 1048590, 65534, 65518, 1048580, 65534, 65519, 655364, 65534, 65521, 1048583, 65534, 65522, 1048580, 65535, 65513, 9, 65535, 65516, 4, 65535, 65518, 1048583, 65535, 65519, 1048583, 65535, 65520, 1048584, 0, 65513, 9, 0, 65514, 13, 0, 65515, 1048589, 0, 65516, 1441800, 0, 65517, 1441799, 0, 65519, 1048583, 0, 65520, 1048583, 0, 65521, 1048580, 0, 65522, 1048580, 1, 65513, 9, 1, 65514, 12, 1, 65515, 1048588, 1, 65517, 1441800, 1, 65518, 1441799, 1, 65520, 1048583, 1, 65521, 5, 2, 65518, 1441800, 2, 65519, 1441799, 2, 65521, 14, 3, 65517, 1048588, 3, 65518, 1048589, 3, 65519, 1441800, 3, 65520, 655365, 3, 65521, 1441796, 4, 65517, 655372, 4, 65518, 655373, 4, 65520, 655374, 5, 65517, 1048588, 5, 65518, 1048585, 5, 65519, 1048585, 5, 65520, 1048581, 5, 65521, 1048580, 6, 65521, 1441800, 3, 65522, 1441797, 5, 65522, 5, 6, 65522, 1441799, 4, 65522, 14, 65532, 65523, 1441799, 65533, 65523, 4, 65534, 65523, 7, 65533, 65524, 12, 65532, 65525, 12, 65532, 65524, 13, 0, 65523, 1048580, 65526, 65520, 1441792, 65527, 65520, 1048576, 65522, 65533, 1441801, 65522, 65529, 1441801, 65522, 65530, 1441801, 65530, 65518, 655364, 65531, 65517, 1048580, 65529, 65518, 655364, 65513, 65517, 655360, 65513, 65518, 0, 65514, 65517, 655360, 65514, 65518, 0, 65515, 65517, 655360, 65515, 65518, 0, 65516, 65517, 655360, 65516, 65518, 0, 65517, 65517, 655360, 65517, 65518, 0, 65518, 65517, 655360, 65518, 65518, 0, 65519, 65517, 655360, 65519, 65518, 0, 65520, 65517, 655360, 65520, 65518, 0, 65521, 65517, 655360, 65521, 65518, 0, 65522, 65517, 655360, 65522, 65518, 0, 65523, 65517, 655360, 65523, 65518, 0, 65524, 65517, 655360, 65524, 65518, 0, 65525, 65517, 1441793, 65525, 65518, 1441793, 65525, 65519, 1441804, 65527, 65519, 1, 65526, 65519, 1, 65525, 65516, 655372, 65526, 65516, 655369, 65527, 65516, 655369, 65528, 65516, 655369, 65522, 65532, 1441801, 65522, 65531, 1441801, 65507, 65517, 655360, 65507, 65518, 0, 65508, 65517, 655360, 65508, 65518, 0, 65509, 65517, 655360, 65509, 65518, 0, 65510, 65517, 655360, 65510, 65518, 0, 65511, 65517, 655360, 65511, 65518, 0, 65512, 65517, 655360, 65512, 65518, 0, 65506, 65516, 1048588, 65506, 65519, 12, 65505, 65516, 655369, 65505, 65519, 9, 65504, 65519, 9, 65504, 65516, 655369, 65503, 65516, 655372, 65503, 65519, 1441804, 65503, 65518, 1441801, 65503, 65517, 1441801, 65505, 65517, 1048583, 65504, 65517, 655367, 65504, 65518, 1441799, 65505, 65518, 7, 65506, 65518, 1048577, 65506, 65517, 1048577)
}

[node name="CurvedWindow2" parent="Environment/NavigationRegion3D" instance=ExtResource("2_np2xp")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 12, 0, -13)

[node name="Machine" parent="Environment/NavigationRegion3D" instance=ExtResource("3_w7jjh")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 10.8892, 0, -19.4494)

[node name="Player" parent="." instance=ExtResource("1_26yhd")]

[node name="TutorialCanvasLayer" type="CanvasLayer" parent="."]

[node name="MovementTutorial" type="TextureRect" parent="TutorialCanvasLayer"]
visible = false
offset_left = 703.0
offset_top = 26.0
offset_right = 1131.0
offset_bottom = 111.0
texture = SubResource("GradientTexture1D_dlo4w")

[node name="Label" type="Label" parent="TutorialCanvasLayer/MovementTutorial"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -186.5
offset_top = -24.5
offset_right = 186.5
offset_bottom = 24.5
grow_horizontal = 2
grow_vertical = 2
text = "Use WASD to move around and mouse to look.
Click inside the game window to bind the mouse
If the sensitivity is too high, press P to change it"

[node name="InteractionTutorial" type="TextureRect" parent="TutorialCanvasLayer"]
visible = false
offset_left = 703.0
offset_top = 26.0
offset_right = 1131.0
offset_bottom = 111.0
texture = SubResource("GradientTexture1D_dlo4w")

[node name="Label" type="Label" parent="TutorialCanvasLayer/InteractionTutorial"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -186.5
offset_top = -24.5
offset_right = 186.5
offset_bottom = 24.5
grow_horizontal = 2
grow_vertical = 2
text = "Left click objects with a hand indicator to interact with them"

[node name="InventoryTutorial" type="TextureRect" parent="TutorialCanvasLayer"]
visible = false
offset_left = 703.0
offset_top = 26.0
offset_right = 1131.0
offset_bottom = 111.0
texture = SubResource("GradientTexture1D_dlo4w")

[node name="Label" type="Label" parent="TutorialCanvasLayer/InventoryTutorial"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -186.5
offset_top = -24.5
offset_right = 186.5
offset_bottom = 24.5
grow_horizontal = 2
grow_vertical = 2
text = "Press tab to view the items you've collected"

[node name="MenuCanvasLayer" type="CanvasLayer" parent="."]
visible = false

[node name="TextureRect" type="TextureRect" parent="MenuCanvasLayer"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -193.5
offset_top = -80.5
offset_right = 193.5
offset_bottom = 80.5
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("GradientTexture1D_q6lx1")

[node name="Label" type="Label" parent="MenuCanvasLayer/TextureRect"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -41.5
offset_right = 41.5
offset_bottom = 42.0
grow_horizontal = 2
theme_override_font_sizes/font_size = 30
text = "Menu"

[node name="Label2" type="Label" parent="MenuCanvasLayer/TextureRect"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -145.0
offset_top = 43.5
offset_right = -5.0
offset_bottom = 66.5
grow_horizontal = 2
text = "Mouse Sensitivity:"

[node name="HSlider" type="HSlider" parent="MenuCanvasLayer/TextureRect/Label2"]
layout_mode = 0
offset_left = 145.0
offset_top = 5.0
offset_right = 309.0
offset_bottom = 21.0
min_value = 10.0
max_value = 200.0
value = 100.0

[node name="Label3" type="Label" parent="MenuCanvasLayer/TextureRect"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -145.0
offset_top = 68.5
offset_right = -5.0
offset_bottom = 91.5
grow_horizontal = 2
text = "Item Hints:"

[node name="CheckButton" type="CheckButton" parent="MenuCanvasLayer/TextureRect/Label3"]
layout_mode = 0
offset_left = 139.0
offset_top = 1.0
offset_right = 183.0
offset_bottom = 25.0

[node name="Button" type="Button" parent="MenuCanvasLayer/TextureRect"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -158.5
offset_top = 98.0
offset_right = 37.5
offset_bottom = 141.0
grow_horizontal = 2
theme_override_font_sizes/font_size = 25
text = "Return to game"

[node name="Button2" type="Button" parent="MenuCanvasLayer/TextureRect"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = 77.5
offset_top = 98.0
offset_right = 137.5
offset_bottom = 141.0
grow_horizontal = 2
theme_override_font_sizes/font_size = 25
text = "Quit"

[node name="InteractStreamPlayer" type="AudioStreamPlayer" parent="MenuCanvasLayer"]
stream = ExtResource("1_ci6au")
volume_db = -15.0

[node name="AnimatedCanvasLayer" type="CanvasLayer" parent="."]
visible = false

[node name="TextureRect" type="TextureRect" parent="AnimatedCanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = SubResource("GradientTexture1D_5qtum")

[node name="Label2" type="Label" parent="AnimatedCanvasLayer"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -208.0
offset_top = -51.0
offset_right = 208.0
offset_bottom = -2.0
grow_horizontal = 2
grow_vertical = 2
text = "Before you hit the ground they call after you"
horizontal_alignment = 1

[node name="Label" type="Label" parent="AnimatedCanvasLayer"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -208.0
offset_top = -24.5
offset_right = 208.0
offset_bottom = 24.5
grow_horizontal = 2
grow_vertical = 2
text = "\"Don't come back without the Clockwork Heart\""
horizontal_alignment = 1

[node name="Label3" type="Label" parent="AnimatedCanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -208.0
offset_top = -24.5
offset_right = 208.0
offset_bottom = 24.5
grow_horizontal = 2
grow_vertical = 2
text = "With heart in hand, you turn to leave..."
horizontal_alignment = 1

[node name="Label4" type="Label" parent="AnimatedCanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -208.0
offset_top = 139.0
offset_right = 208.0
offset_bottom = 188.0
grow_horizontal = 2
grow_vertical = 2
text = "Thank you for playing!"
horizontal_alignment = 1

[node name="Button" type="Button" parent="AnimatedCanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -21.0
offset_top = -138.0
offset_right = 21.0
offset_bottom = -107.0
grow_horizontal = 2
grow_vertical = 0
text = "Quit"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_obikd")
}

[connection signal="pressed" from="MenuCanvasLayer/TextureRect/Button" to="MenuCanvasLayer/InteractStreamPlayer" method="play"]
